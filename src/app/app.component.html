<div class="container">
    <div class="row"><h1>Guided Character Creation</h1></div>

    <hr />
    <div class="row">
        <div class="col">
            <div class="container" id="character-creation-container">
                <div class="container" id="step-1-container">
                    <div class="row" id="step-1-instructions">
                        <h2>Step {{ firstStep.stepNumber }}: {{ firstStep.stepName }}</h2>
                        <p>{{ firstStep.stepDetails }}</p>
                    </div>
                    <hr />
                    <div class="row" id="step-1-dice">
                        <div class="btn-group" role="group" aria-label="step-1-dice">
                            <!-- <app-rolling-die *ngFor="let die of firstStep.dice" [die]="die"></app-rolling-die> -->

                            <app-rolling-die [die]="firstStep.firstDie"></app-rolling-die>
                            <app-rolling-die [die]="firstStep.secondDie"></app-rolling-die>

                            <button
                                class="btn btn-primary btn-lg"
                                role="button"
                                (click)="rollBackgroundDice()"
                                style="margin-left: 50px; max-width: 175px"
                            >
                                Roll Background Dice
                            </button>
                        </div>
                    </div>
                    <hr />
                    <div class="row" id="step-1-selections">
                        <div class="accordion accordion-flush" id="backgroundSelections">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingOne">
                                    <button
                                        class="accordion-button collapsed"
                                        type="button"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseOne"
                                        aria-expanded="false"
                                        aria-controls="flush-collapseOne"
                                    >
                                        <b
                                            >{{ firstBackground.number }} - <i>{{ firstBackground.name }}</i></b
                                        >
                                    </button>
                                </h2>
                                <div
                                    id="flush-collapseOne"
                                    class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingOne"
                                    data-bs-parent="#accordionFlushExample"
                                >
                                    <div class="accordion-body">
                                        <p>{{ firstBackground.backgroundText }}</p>
                                        <ul>
                                            <li *ngFor="let qual of firstBackground.qualities">
                                                {{ qual }}
                                            </li>
                                        </ul>
                                        <hr />
                                        <p>
                                            Choose a
                                            {{ firstBackground.principleCategory }} principle.
                                        </p>
                                        <hr />
                                        <p>Roll a {{ firstBackground.diceText }} for power source selection.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingTwo">
                                    <button
                                        class="accordion-button collapsed"
                                        type="button"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTwo"
                                        aria-expanded="false"
                                        aria-controls="flush-collapseTwo"
                                    >
                                        <b
                                            >{{ secondBackground.number }} - <i>{{ secondBackground.name }}</i></b
                                        >
                                    </button>
                                </h2>
                                <div
                                    id="flush-collapseTwo"
                                    class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingTwo"
                                    data-bs-parent="#accordionFlushExample"
                                >
                                    <div class="accordion-body">
                                        <p>{{ secondBackground.backgroundText }}</p>
                                        <ul>
                                            <li *ngFor="let qual of secondBackground.qualities">
                                                {{ qual }}
                                            </li>
                                        </ul>
                                        <hr />
                                        <p>
                                            Choose a
                                            {{ secondBackground.principleCategory }} principle.
                                        </p>
                                        <hr />
                                        <p>Roll a {{ secondBackground.diceText }} for power source selection.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingThree">
                                    <button
                                        class="accordion-button collapsed"
                                        type="button"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseThree"
                                        aria-expanded="false"
                                        aria-controls="flush-collapseThree"
                                    >
                                        <b
                                            >{{ thirdBackground.number }} - <i>{{ thirdBackground.name }}</i></b
                                        >
                                    </button>
                                </h2>
                                <div
                                    id="flush-collapseThree"
                                    class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingThree"
                                    data-bs-parent="#accordionFlushExample"
                                >
                                    <div class="accordion-body">
                                        <p>{{ thirdBackground.backgroundText }}</p>
                                        <ul>
                                            <li *ngFor="let qual of thirdBackground.qualities">
                                                {{ qual }}
                                            </li>
                                        </ul>
                                        <hr />
                                        <p>
                                            Choose a
                                            {{ thirdBackground.principleCategory }} principle.
                                        </p>
                                        <hr />
                                        <p>Roll a {{ thirdBackground.diceText }} for power source selection.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="container" style="outline-width: 3px; outline-color: crimson; outline-style: double">
                            <div class="row" style="margin-top: 20px">
                                <p class="fs-4">
                                    Options for
                                    <!-- change to dropdown? -->
                                    <b
                                        ><i>{{ firstBackground.name }}</i></b
                                    >
                                </p>
                            </div>
                            <hr />
                            <div class="container" style="outline-style: dashed; outline-color: darkgreen">
                                <div class="row justify-content-start" style="margin-bottom: 10px">
                                    <div class="col-sm-auto">
                                        <img
                                            src="{{ firstBackground.diceToAssign[0].imagePath }}"
                                            alt="D{{ firstBackground.diceToAssign[0].sides }}"
                                            style="max-height: 50px; max-width: 50px"
                                        />
                                    </div>

                                    <div class="col-md-auto">
                                        <div class="dropdown">
                                            <button
                                                class="btn btn-secondary dropdown-toggle"
                                                type="button"
                                                id="firstQualityDropdown"
                                                data-bs-toggle="dropdown"
                                                aria-expanded="false"
                                            >
                                                Select a quality to assign a D{{ firstBackground.diceToAssign[0].sides }}
                                            </button>
                                            <ul class="dropdown-menu" aria-labelledby="firstQualityDropdown">
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Fitness</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Persuasion</button>
                                                </li>
                                                <li>
                                                    <h5 class="dropdown-header"><b>Any mental</b></h5>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Alertness</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Conviction</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Creativity</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Investigation</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Self-Discipline</button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-auto">
                                        <p>
                                            <i>Selected <b>Quality</b> goes here</i>
                                        </p>
                                    </div>
                                </div>
                                <div class="row justify-content-start" style="margin-bottom: 10px">
                                    <div class="col-sm-auto">
                                        <img
                                            src="{{ firstBackground.diceToAssign[1].imagePath }}"
                                            alt="D{{ firstBackground.diceToAssign[1].sides }}"
                                            style="max-height: 50px; max-width: 50px"
                                        />
                                    </div>

                                    <div class="col-md-auto">
                                        <div class="dropdown">
                                            <button
                                                class="btn btn-secondary dropdown-toggle"
                                                type="button"
                                                id="secondQualityDropdown"
                                                data-bs-toggle="dropdown"
                                                aria-expanded="false"
                                            >
                                                Select a quality to assign a D{{ firstBackground.diceToAssign[1].sides }}
                                            </button>
                                            <ul class="dropdown-menu" aria-labelledby="secondQualityDropdown">
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Fitness</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Persuasion</button>
                                                </li>
                                                <li>
                                                    <h5 class="dropdown-header"><b>Any mental</b></h5>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item btn btn-outline" role="button">Alertness</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Conviction</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Creativity</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Investigation</button>
                                                </li>
                                                <li>
                                                    <button class="dropdown-item" role="button">Self-Discipline</button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-auto">
                                        <p>
                                            <i>Selected <b>Quality</b> goes here</i>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="container"
                                style="outline-style: groove; outline-color: darkmagenta"
                                id="background-principle-selection-container"
                            >
                                <div class="row">
                                    <div class="col-md-auto">
                                        <div class="dropdown">
                                            <button
                                                class="btn btn-secondary dropdown-toggle"
                                                type="button"
                                                id="backgroundPrincipleDropdown"
                                                data-bs-toggle="dropdown"
                                                aria-expanded="false"
                                            >
                                                Select a
                                                {{ firstBackground.principleCategory }} principle
                                            </button>
                                            <ul class="dropdown-menu" aria-labelledby="backgroundPrincipleDropdown">
                                                <li>
                                                    <button
                                                        class="dropdown-item btn btn-outline"
                                                        *ngFor="let principle of getPrinciplesFromCategory(firstBackground.principleCategory)"
                                                    >
                                                        {{ principle }}
                                                    </button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-auto">
                                        <p>
                                            <i>Selected <b>Principle</b> goes here</i>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="container" style="outline-style: solid; outline-color: deeppink" id="dice-given-container">
                                <div class="row" style="margin-top: 10px">
                                    <div class="col-md-auto" *ngFor="let die of firstBackground.powerSourceDice">
                                        <figure>
                                            <img src="{{ die.imagePath }}" alt="D{{ die.sides }}" style="max-height: 50px; max-width: 50px" />
                                            <figcaption style="text-align: center">
                                                <p>
                                                    <b>{{ die.faceShowing }}</b>
                                                </p>
                                            </figcaption>
                                        </figure>
                                    </div>
                                    <div class="col-md-3">
                                        <button
                                            class="btn btn-primary btn-lg"
                                            role="button"
                                            (click)="rollAllDice(firstBackground.powerSourceDice)"
                                            style="margin-left: 50px; max-width: 175px"
                                        >
                                            Roll Dice
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="btn-group" role="group" aria-label="save-clear">
                                    <!-- Apply choices to character sheet and pushes to next step -->
                                    <button type="button" class="btn-success btn-lg" style="margin: 10px">Save</button>
                                    <!-- Reset choices to defaults -->
                                    <button type="button" class="btn-danger btn-lg" style="margin: 10px">Clear</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <hr />
                <!-- Step 2 -->
                <div class="container" id="step-2-container">
                    <div class="row" id="step-2-instructions">
                        <h2>Step {{ secondStep.stepNumber }}: {{ secondStep.stepName }}</h2>
                        <p>{{ secondStep.stepDetails }}</p>
                    </div>
                    <hr />
                    <div class="row" id="step-2-dice">
                        <div class="col">
                            <button
                                id="secondStep-die-button-0"
                                class="D{{ secondStep.firstDie.sides }} die-button btn btn-disabled"
                                (click)="rollDie(secondStep.firstDie)"
                                style="margin: 10px; height: 100px; width: 100px"
                            >
                                <figure>
                                    <img
                                        src="{{ secondStep.firstDie.imagePath }}"
                                        alt="D{{ secondStep.firstDie.sides"
                                        id="secondStep-die-image-0"
                                        style="max-height: 75px; max-width: 75px"
                                    />
                                    <figcaption class="D{{ secondStep.firstDie.sides }}-roll">
                                        {{ secondStep.firstDie.faceShowing }}
                                    </figcaption>
                                </figure>
                            </button>
                        </div>
                        <div class="col">
                            <button class="btn btn-warn">Roll Dice</button>
                        </div>
                    </div>
                    <hr />
                    <div class="row" id="step-2-options">
                        <div class="col"><b>Step 2 options go here</b></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
